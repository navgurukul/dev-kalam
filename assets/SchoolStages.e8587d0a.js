import{j as e,aT as q,aU as T,aV as z,bg as F,aI as j,r as p,bf as I,a$ as G,bl as R,bn as E,bW as U,bt as L,cN as W,cO as _,cP as S,cQ as V,bq as B,bo as P,bp as y,bk as H,cR as Q,bE as Y,ba as J}from"./vendor.0db79331.js";import{a as C}from"./vendor_axios.5abceb0c.js";import{M as K}from"./index.83743980.js";import"./vendor_core_js_pure.0c656a9d.js";import"./vendor_react_epic_spinners.9d092b60.js";import"./vendor_mui_datatables.7a9f4bd2.js";import"./vendor_lodash.50cc0a37.js";import"./vendor_react_slick.6e983608.js";import"./vendor_react_easy_edit.0ee73127.js";import"./vendor_react_player.4dedbcdd.js";var w="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\school\\ToolbarAddButtonSchoolStages.jsx";const X=({handleOpen:n,disabled:d})=>e.exports.jsxDEV(q,{title:"Admission stage",children:e.exports.jsxDEV(T,{disabled:d,onClick:n,children:e.exports.jsxDEV(z,{},void 0,!1,{fileName:w,lineNumber:9,columnNumber:7},void 0)},void 0,!1,{fileName:w,lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:w,lineNumber:7,columnNumber:3},void 0);var t="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\school\\SchoolStageEdit.jsx";const Z="https://dev-join.navgurukul.org/api/",ee=n=>{const{value:d,setRefresh:f}=n,{privileges:b}=F(s=>s.auth),[x,a]=j.useState(!1),[i,c]=p.exports.useState(""),[m,r]=p.exports.useState(""),{enqueueSnackbar:v}=I(),h=()=>a(!1),g=()=>a(!0),D=async()=>{if(m&&i){let s={};m&&(s.stageName=m),i&&(s.stageType=i);const k=`${Z}stage/update/${d}`;await C.put(k,s).then($=>{f(!0),h(),v("School stage Edited successfully!",{variant:"success"})}).catch(()=>{v("Error in Editing School",{variant:"error"})})}};return e.exports.jsxDEV(e.exports.Fragment,{children:[e.exports.jsxDEV(T,{disabled:!b.some(s=>s.privilege==="UpdatePartner"),onClick:g,children:e.exports.jsxDEV(G,{},void 0,!1,{fileName:t,lineNumber:70,columnNumber:9},void 0)},void 0,!1,{fileName:t,lineNumber:64,columnNumber:7},void 0),e.exports.jsxDEV(R,{scroll:"paper",open:x,onClose:h,children:e.exports.jsxDEV(E,{dividers:!0,children:e.exports.jsxDEV("section",{style:{padding:"0rem 1rem 1rem 1rem"},children:[e.exports.jsxDEV(E,{children:[e.exports.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.exports.jsxDEV("p",{style:{fontSize:"24px"},children:"Edit Admission Stage"},void 0,!1,{fileName:t,lineNumber:84,columnNumber:17},void 0),e.exports.jsxDEV(U,{style:{cursor:"pointer"},onClick:()=>a(!1)},void 0,!1,{fileName:t,lineNumber:85,columnNumber:17},void 0)]},void 0,!0,{fileName:t,lineNumber:77,columnNumber:15},void 0),e.exports.jsxDEV(L,{children:[e.exports.jsxDEV(W,{children:"Stage Type"},void 0,!1,{fileName:t,lineNumber:91,columnNumber:17},void 0),e.exports.jsxDEV(_,{row:!0,onChange:s=>{c(s.target.value)},children:[e.exports.jsxDEV(S,{value:"Test",control:e.exports.jsxDEV(V,{},void 0,!1,{fileName:t,lineNumber:100,columnNumber:30},void 0),label:"Test"},void 0,!1,{fileName:t,lineNumber:98,columnNumber:19},void 0),e.exports.jsxDEV(S,{value:"Interview",control:e.exports.jsxDEV(V,{},void 0,!1,{fileName:t,lineNumber:105,columnNumber:30},void 0),label:"Interview"},void 0,!1,{fileName:t,lineNumber:103,columnNumber:19},void 0)]},void 0,!0,{fileName:t,lineNumber:92,columnNumber:17},void 0)]},void 0,!0,{fileName:t,lineNumber:90,columnNumber:15},void 0),e.exports.jsxDEV(B,{style:{marginTop:"1rem"},fullWidth:!0,autoFocus:!0,label:"Stage Name",placeholder:"Enter Stage",variant:"outlined",sx:{mt:"0.4rem"},value:m,onChange:s=>{r(s.target.value)}},void 0,!1,{fileName:t,lineNumber:110,columnNumber:15},void 0)]},void 0,!0,{fileName:t,lineNumber:76,columnNumber:13},void 0),e.exports.jsxDEV(P,{style:{display:"flex",justifyContent:"center"},children:e.exports.jsxDEV(y,{variant:"contained",color:"primary",style:{width:"94%",padding:".5rem"},onClick:D,children:"Add Admission Stage"},void 0,!1,{fileName:t,lineNumber:130,columnNumber:15},void 0)},void 0,!1,{fileName:t,lineNumber:124,columnNumber:13},void 0)]},void 0,!0,{fileName:t,lineNumber:75,columnNumber:11},void 0)},void 0,!1,{fileName:t,lineNumber:74,columnNumber:9},void 0)},void 0,!1,{fileName:t,lineNumber:73,columnNumber:7},void 0)]},void 0,!0)};var u="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\school\\SchoolStageDelete.jsx";const oe="https://dev-join.navgurukul.org/api/",te=n=>{const{value:d,setRefresh:f}=n,{privileges:b}=F(r=>r.auth),[x,a]=j.useState(!1),i=()=>a(!1),c=()=>a(!0),m=async()=>{const r=`${oe}stage/${d}`;await C.delete(r),f(!0),i()};return e.exports.jsxDEV(e.exports.Fragment,{children:[e.exports.jsxDEV(T,{disabled:!b.some(r=>r.privilege==="UpdatePartner"),onClick:c,children:e.exports.jsxDEV(H,{},void 0,!1,{fileName:u,lineNumber:35,columnNumber:9},void 0)},void 0,!1,{fileName:u,lineNumber:29,columnNumber:7},void 0),e.exports.jsxDEV(R,{scroll:"paper",open:x,onClose:i,children:e.exports.jsxDEV(E,{children:[e.exports.jsxDEV(Q,{children:" Are you sure you want to delete this Stage?"},void 0,!1,{fileName:u,lineNumber:40,columnNumber:11},void 0),e.exports.jsxDEV("div",{style:{display:"flex",justifyContent:"space-evenly",marginTop:"1rem"},children:[e.exports.jsxDEV(y,{variant:"contained",disableElevation:!0,onClick:m,children:"Yes"},void 0,!1,{fileName:u,lineNumber:47,columnNumber:11},void 0),e.exports.jsxDEV(y,{variant:"contained",disableElevation:!0,onClick:i,children:"NO"},void 0,!1,{fileName:u,lineNumber:52,columnNumber:11},void 0)]},void 0,!0,{fileName:u,lineNumber:41,columnNumber:11},void 0)]},void 0,!0,{fileName:u,lineNumber:39,columnNumber:9},void 0)},void 0,!1,{fileName:u,lineNumber:38,columnNumber:7},void 0)]},void 0,!0)};var o="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\school\\SchoolStages.jsx";const A="https://dev-join.navgurukul.org/api/",pe=()=>{var O;const[n,d]=p.exports.useState([]),[f,b]=j.useState(!0),[x,a]=p.exports.useState(!1),[i,c]=p.exports.useState(!1),m=[{name:"id",label:"S.No",options:{filter:!0,sort:!0,customBodyRender:(l,N)=>N.rowIndex+1}},{name:"stageType",label:"Type",options:{filter:!0,sort:!0,customBodyRender:(l,N)=>l}},{name:"stageName",label:"Stage Name",options:{filter:!0,sort:!0,customBodyRender:(l,N)=>l}},{name:"id",label:"Edit",options:{filter:!0,sort:!0,customBodyRender:l=>e.exports.jsxDEV(ee,{setRefresh:c,value:l},void 0,!1,{fileName:o,lineNumber:79,columnNumber:11},void 0)}},{name:"id",label:"Delete",options:{filter:!0,sort:!0,customBodyRender:l=>e.exports.jsxDEV(te,{setRefresh:c,value:l},void 0,!1,{fileName:o,lineNumber:91,columnNumber:11},void 0)}}],[r,v]=p.exports.useState("");let h=Y(),g=h.pathname.split("/")[2];const{enqueueSnackbar:D}=I(),s=async()=>{let l=`${A}stage/${g}`,N=await C.get(l);d(N.data),b(!1),a(!1)},k=async()=>{if(r.stageType&&r.stageName){h.pathname.split("/")[2];const l=`${A}stage`;await C.post(l,r).then(N=>{v(""),s(),a(!1),D("School stage successfully Added!",{variant:"success"})}).catch(N=>{D("Error in updating School stage",{variant:"error"})})}},$=()=>{a(!0)};p.exports.useEffect(async()=>{(async()=>(await s(),c(!1)))()},[i]);const M={selectableRows:"none",responsive:"vertical",filter:!1,customToolbar:j.useCallback(()=>e.exports.jsxDEV(X,{handleOpen:$},void 0,!1,{fileName:o,lineNumber:153,columnNumber:13},void 0),[])};return e.exports.jsxDEV(J,{maxWidth:"md",children:[e.exports.jsxDEV(K,{title:((O=n[0])==null?void 0:O.name)||"Admission stage",columns:m,data:n,showLoader:f,options:M},void 0,!1,{fileName:o,lineNumber:160,columnNumber:7},void 0),e.exports.jsxDEV(R,{fullWidth:!0,open:x,onClose:()=>a(!1),children:e.exports.jsxDEV("section",{style:{padding:"0rem 1rem 1rem 1rem"},children:[e.exports.jsxDEV(E,{children:[e.exports.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.exports.jsxDEV("p",{style:{fontSize:"24px"},children:"Admission Stage"},void 0,!1,{fileName:o,lineNumber:182,columnNumber:15},void 0),e.exports.jsxDEV(U,{style:{cursor:"pointer"},onClick:()=>a(!1)},void 0,!1,{fileName:o,lineNumber:183,columnNumber:15},void 0)]},void 0,!0,{fileName:o,lineNumber:175,columnNumber:13},void 0),e.exports.jsxDEV(L,{children:[e.exports.jsxDEV(W,{children:"Stage Type"},void 0,!1,{fileName:o,lineNumber:189,columnNumber:15},void 0),e.exports.jsxDEV(_,{row:!0,onChange:l=>{v({...r,stageType:l.target.value,school_id:g})},children:[e.exports.jsxDEV(S,{value:"Test",control:e.exports.jsxDEV(V,{},void 0,!1,{fileName:o,lineNumber:202,columnNumber:28},void 0),label:"Test"},void 0,!1,{fileName:o,lineNumber:200,columnNumber:17},void 0),e.exports.jsxDEV(S,{value:"Interview",control:e.exports.jsxDEV(V,{},void 0,!1,{fileName:o,lineNumber:207,columnNumber:28},void 0),label:"Interview"},void 0,!1,{fileName:o,lineNumber:205,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:190,columnNumber:15},void 0)]},void 0,!0,{fileName:o,lineNumber:188,columnNumber:13},void 0),e.exports.jsxDEV(B,{style:{marginTop:"1rem"},fullWidth:!0,autoFocus:!0,label:"Stage Name",placeholder:"Enter Stage",variant:"outlined",sx:{mt:"0.4rem"},onChange:l=>{v({...r,stageName:l.target.value})}},void 0,!1,{fileName:o,lineNumber:212,columnNumber:13},void 0)]},void 0,!0,{fileName:o,lineNumber:174,columnNumber:11},void 0),e.exports.jsxDEV(P,{style:{display:"flex",justifyContent:"center"},children:e.exports.jsxDEV(y,{variant:"contained",color:"primary",style:{width:"94%",padding:".5rem"},onClick:k,children:"Add Admission Stage"},void 0,!1,{fileName:o,lineNumber:231,columnNumber:13},void 0)},void 0,!1,{fileName:o,lineNumber:225,columnNumber:11},void 0)]},void 0,!0,{fileName:o,lineNumber:173,columnNumber:9},void 0)},void 0,!1,{fileName:o,lineNumber:168,columnNumber:7},void 0)]},void 0,!0,{fileName:o,lineNumber:159,columnNumber:5},void 0)};export{pe as default};
