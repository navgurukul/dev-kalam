import{bE as oe,bg as ie,bh as re,aI as C,r as me,j as e,bs as v,bu as A,bd as ue,cB as O,cC as P,cD as B,bq as _,bB as L,b9 as ce,ba as de,bb as D,cT as fe,bp as E,cU as M,cV as pe,aU as be,cW as Ne,cX as xe,cY as ve}from"./vendor.0db79331.js";import"./vendor_mui_datatables.7a9f4bd2.js";import{a as he}from"./vendor_axios.5abceb0c.js";import{a as ge,b as S,M as De,d as je,e as Ee,q as ye,c as Ve,f as Ce,g as U,h as Se,i as Fe,j as we,k as Ie,l as ke,m as Te}from"./index.83743980.js";var s="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\dashboard\\Dashboard.jsx";const Y=Object.entries(ge).map(([l,n])=>({value:l,label:n})),$=Object.entries(S).map(([l,n])=>({value:l,label:n})),Ae="https://dev-join.navgurukul.org/api/",Oe=[{label:"English Interview Pending (2nd Round)",name:"pendingEnglishInterview",options:{viewColumns:!1,display:!1,filter:!1}},{label:"English Interview Failed",name:"englishInterviewFail",options:{viewColumns:!1,display:!1,filter:!1}},{label:"Algebra Interview Pending (3rd Round)",name:"pendingAlgebraInterview",options:{viewColumns:!1,display:!1,filter:!1}},{label:"Algebra Interview Failed",name:"algebraInterviewFail",options:{viewColumns:!1,display:!1,filter:!1}},{label:"Culture Fit Interview Pending (4th Round)",name:"pendingCultureFitInterview",options:{viewColumns:!1,display:!1,filter:!1}},{label:"Culture Interview Failed",name:"cultureFitInterviewFail",options:{viewColumns:!1,display:!1,filter:!1}},{label:"Selected",name:"selected",options:{viewColumns:!1,display:!1,filter:!1}},{label:"Offer Letter Sent",name:"offerLetterSent",options:{viewColumns:!1,display:!1,filter:!1}},{label:"Unreachable",name:"notReachable",options:{viewColumns:!1,display:!1,filter:!1}}],Ye=({displayData:l,title:n,url:c,isCampus:m=!1})=>{const r=oe(),{students:o,allStudents:f,fromDate:j,toDate:F,allStatusCount:Be}=ie(a=>a.campus),x=re(),z=()=>x(Ve(!1)),W=a=>x(Ce(a)),q=a=>x(Fe(L(a).format("YYYY-MM-DD"))),K=a=>x(we(L(a).format("YYYY-MM-DD"))),X=a=>x(Ie(a)),y=a=>x(je(a)),H=a=>x(ke(a)),Z=()=>x(Ee()),[J,Q]=C.useState(!0),G=a=>{if(m){const b=U.reduce((u,i)=>({...u,[i]:0}),{total:0}),N=a.reduce((u,i)=>(i.stage.campus_status&&U.includes(i.stage.campus_status)&&(u[i.stage.campus_status]+=1),u),b);N.total=a.length,X(N)}const p=a.map(b=>Se(b,m));y(p),H(p),Q(!1)},V=async a=>{try{const p=Ae+c,b=await he.get(p,{signal:a,params:{from:j,to:F}}),N={},u=b.data.data.map(i=>{const h=i.lastTransition?i.lastTransition.to_stage:"other",g=i.contacts[i.contacts.length-1];return N[h]?N[h]+=1:N[h]=1,{...i,qualification:ye[i.qualification],altNumber:g&&g.alt_mobile,donor:i.studentDonor?i.studentDonor:null}});u.length>0&&(u[0]={...u[0],...N}),G(u)}catch{z()}};me.exports.useEffect(()=>{const a=new AbortController;return(async()=>await V(a.signal))(),()=>{a.abort(),y([]),Z()}},[]);const ee=async a=>{q(a),V()},ae=a=>{K(a),V()},le=a=>{const p=f.filter(b=>b.stage===a);y(p)},w=async a=>{W(a),le(a.label)},te=r.pathname.split("/")[1],I=parseInt(r.pathname[r.pathname.length-1],10),ne=(a,p,b,N)=>{const u=N.map(({data:i})=>({data:i.map((h,g)=>{var T;switch(((T=l[g])==null?void 0:T.name)||"DEFAULT"){case"enrolmentKey":return{onlineTest:"Online Test",offlineTest:"Offline Test","N/A":"N/A"}[h[h.length-1].type_of_test];default:return h}})}));return`\uFEFF${a(b)}${p(u)}`};C.useCallback(()=>e.exports.jsxDEV("tbody",{},void 0,!1,{fileName:s,lineNumber:284,columnNumber:44},void 0),[]);const k=e.exports.jsxDEV(v,{container:!0,spacing:4,sx:{paddingY:"0.8rem"},children:[e.exports.jsxDEV(v,{item:!0,xs:12,md:6,lg:3,children:e.exports.jsxDEV(A,{onChange:w,options:I?$:Y,placeholder:"Filter Stage",isClearable:!0,closeMenuOnSelect:!0,menuPortalTarget:document.body,styles:{menuPortal:a=>({...a,zIndex:9999})}},void 0,!1,{fileName:s,lineNumber:289,columnNumber:9},void 0)},void 0,!1,{fileName:s,lineNumber:288,columnNumber:7},void 0),e.exports.jsxDEV(v,{item:!0,xs:12,md:6,lg:3,children:e.exports.jsxDEV(O,{dateAdapter:P,children:e.exports.jsxDEV(B,{margin:"dense",style:{marginLeft:16,maxWidth:"40%"},value:j,id:"date-picker-dialog",label:"From Date",format:"MM/dd/yyyy",onChange:ee,KeyboardButtonProps:{"aria-label":"change date"},renderInput:a=>e.exports.jsxDEV(_,{fullWidth:!0,size:"small",...a},void 0,!1,{fileName:s,lineNumber:313,columnNumber:15},void 0)},void 0,!1,{fileName:s,lineNumber:301,columnNumber:11},void 0)},void 0,!1,{fileName:s,lineNumber:300,columnNumber:9},void 0)},void 0,!1,{fileName:s,lineNumber:299,columnNumber:7},void 0),e.exports.jsxDEV(v,{item:!0,xs:12,md:6,lg:3,children:e.exports.jsxDEV(O,{dateAdapter:P,children:e.exports.jsxDEV(B,{margin:"dense",style:{marginLeft:16,maxWidth:"40%"},value:F,id:"date-picker-dialog",label:"To Date",format:"MM/dd/yyyy",onChange:ae,KeyboardButtonProps:{"aria-label":"change date"},renderInput:a=>e.exports.jsxDEV(_,{size:"small",fullWidth:!0,...a},void 0,!1,{fileName:s,lineNumber:332,columnNumber:15},void 0)},void 0,!1,{fileName:s,lineNumber:320,columnNumber:11},void 0)},void 0,!1,{fileName:s,lineNumber:319,columnNumber:9},void 0)},void 0,!1,{fileName:s,lineNumber:318,columnNumber:7},void 0)]},void 0,!0,{fileName:s,lineNumber:287,columnNumber:5},void 0),se=f.length>0&&e.exports.jsxDEV(v,{container:!0,spacing:3,sx:{paddingY:"0.8rem"},children:e.exports.jsxDEV(v,{item:!0,container:!0,xs:12,md:6,lg:3,sx:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},children:e.exports.jsxDEV(A,{onChange:w,options:I?$:Y,placeholder:"Filter Stage",isClearable:!0,closeMenuOnSelect:!0,menuPortalTarget:document.body,styles:{menuPortal:a=>({...a,zIndex:9999})}},void 0,!1,{fileName:s,lineNumber:355,columnNumber:9},void 0)},void 0,!1,{fileName:s,lineNumber:342,columnNumber:7},void 0)},void 0,!1,{fileName:s,lineNumber:341,columnNumber:5},void 0);return e.exports.jsxDEV(ue,{sx:{paddingX:"1.2rem",paddingY:"0.2rem"},children:[te==="campus"?se:k,e.exports.jsxDEV(De,{tableBodyMaxHeight:"56vh",title:n,columns:[...l,...Oe],onDownload:ne,data:o,showLoader:J,options:k},void 0,!1,{fileName:s,lineNumber:395,columnNumber:7},void 0)]},void 0,!0,{fileName:s,lineNumber:393,columnNumber:5},void 0)};var d="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\smallComponents\\SelectUiByButtons.jsx";const Pe=ce(()=>({container:{display:"flex",alignItems:"center",flexDirection:"column"},space:{marginBottom:10}})),$e=({name:l,progressMade:n,studentData:c,overview:m,showGraphData:r,selected:o})=>{const f=Pe();return e.exports.jsxDEV(de,{className:f.container,children:[e.exports.jsxDEV(v,{item:!0,xs:12,className:f.space,children:e.exports.jsxDEV(D,{variant:"h4",children:[" ",l]},void 0,!0,{fileName:d,lineNumber:34,columnNumber:9},void 0)},void 0,!1,{fileName:d,lineNumber:33,columnNumber:7},void 0),e.exports.jsxDEV(v,{item:!0,xs:12,className:f.space,children:e.exports.jsxDEV(fe,{size:"large",color:"primary","aria-label":"large outlined primary button group",children:[m&&e.exports.jsxDEV(E,{variant:o==="overview"?"contained":"outlined",onClick:()=>m.action(),children:m==null?void 0:m.label},void 0,!1,{fileName:d,lineNumber:44,columnNumber:13},void 0),e.exports.jsxDEV("div",{},void 0,!1,{fileName:d,lineNumber:53,columnNumber:11},void 0),e.exports.jsxDEV(E,{variant:o==="studentData"?"contained":"outlined",onClick:()=>c.action(),children:c==null?void 0:c.label},void 0,!1,{fileName:d,lineNumber:55,columnNumber:11},void 0),e.exports.jsxDEV(E,{variant:o==="progressMade"?"contained":"outlined",onClick:()=>n.action(),children:n==null?void 0:n.label},void 0,!1,{fileName:d,lineNumber:61,columnNumber:11},void 0),e.exports.jsxDEV(E,{variant:o==="showGraphData"?"contained":"outlined",onClick:()=>r.action(),children:r==null?void 0:r.label},void 0,!1,{fileName:d,lineNumber:67,columnNumber:11},void 0)]},void 0,!0,{fileName:d,lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:d,lineNumber:36,columnNumber:7},void 0)]},void 0,!0,{fileName:d,lineNumber:32,columnNumber:5},void 0)};var t="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\student\\collapseData.jsx";const R=l=>{let n="";l.status!=null&&(n=(l.status.charAt(0).toUpperCase()+l.status.slice(1)).split(/(?=[A-Z])/).join(" "));const c=location.pathname.split("/")[1];return e.exports.jsxDEV("center",{children:[e.exports.jsxDEV("div",{style:{fontSize:15,fontFamily:"Arial",display:"flex"},children:[c==="campus"?e.exports.jsxDEV(Te,{isShow:!0,studentName:l.name,studentId:l.id,dataType:"columnTransition"},void 0,!1,{fileName:t,lineNumber:32,columnNumber:11},void 0):l.name," ",":",l.mobile?l.mobile:l.contacts[0].mobile]},void 0,!0,{fileName:t,lineNumber:24,columnNumber:7},void 0),l.status!=null?e.exports.jsxDEV("span",{style:{fontSize:15,fontWeight:500},children:["(",n,")"]},void 0,!0,{fileName:t,lineNumber:44,columnNumber:9},void 0):e.exports.jsxDEV("span",{children:l.status},void 0,!1,{fileName:t,lineNumber:46,columnNumber:9},void 0)]},`${l.name}${Math.random()}`,!0,{fileName:t,lineNumber:23,columnNumber:5},void 0)},Re=l=>{const[n,c]=C.useState(!1),m=()=>{c(j=>!j)},{classes:r,details:o,stage:f}=l;return o.length?e.exports.jsxDEV("div",{children:[e.exports.jsxDEV(M,{children:[e.exports.jsxDEV("center",{children:e.exports.jsxDEV(D,{variant:"h6",children:[S[f],"(",o.length,")"]},void 0,!0,{fileName:t,lineNumber:81,columnNumber:11},void 0)},void 0,!1,{fileName:t,lineNumber:80,columnNumber:9},void 0),o.length>0&&!n&&o.slice(0,10).map(R),o.length>0&&n&&o.map(R)]},void 0,!0,{fileName:t,lineNumber:79,columnNumber:7},void 0),e.exports.jsxDEV(pe,{disableSpacing:!0,children:o.length>10&&e.exports.jsxDEV(be,{className:Ne(r.expand,{[r.expandOpen]:n}),onClick:m,"aria-expanded":n,"aria-label":"show more",children:n?e.exports.jsxDEV("div",{children:[e.exports.jsxDEV(D,{children:"See Less"},void 0,!1,{fileName:t,lineNumber:102,columnNumber:17},void 0),e.exports.jsxDEV(xe,{className:r.expandOpen,color:"primary"},void 0,!1,{fileName:t,lineNumber:103,columnNumber:17},void 0)]},void 0,!0,{fileName:t,lineNumber:101,columnNumber:15},void 0):e.exports.jsxDEV("div",{children:[e.exports.jsxDEV(D,{children:"See More"},void 0,!1,{fileName:t,lineNumber:110,columnNumber:17},void 0),e.exports.jsxDEV(ve,{className:r.expandOpen,color:"primary"},void 0,!1,{fileName:t,lineNumber:111,columnNumber:17},void 0)]},void 0,!0,{fileName:t,lineNumber:109,columnNumber:15},void 0)},void 0,!1,{fileName:t,lineNumber:92,columnNumber:11},void 0)},void 0,!1,{fileName:t,lineNumber:90,columnNumber:7},void 0)]},void 0,!0,{fileName:t,lineNumber:78,columnNumber:5},void 0):e.exports.jsxDEV(M,{children:[e.exports.jsxDEV("center",{children:e.exports.jsxDEV(D,{variant:"h6",children:[S[f],"(",o.length,")"]},void 0,!0,{fileName:t,lineNumber:65,columnNumber:11},void 0)},void 0,!1,{fileName:t,lineNumber:64,columnNumber:9},void 0),o.length===0&&e.exports.jsxDEV("center",{children:e.exports.jsxDEV("p",{style:{fontSize:15,color:"red"},children:"No record Found"},void 0,!1,{fileName:t,lineNumber:71,columnNumber:13},void 0)},void 0,!1,{fileName:t,lineNumber:70,columnNumber:11},void 0)]},void 0,!0,{fileName:t,lineNumber:63,columnNumber:7},void 0)};export{Re as C,Ye as D,$e as S};
