import{bF as U,bg as f,bh as k,aI as c,r as b,j as a}from"./vendor.0db79331.js";import{a as G}from"./vendor_axios.5abceb0c.js";import{S as M,n as $,c as B}from"./index.83743980.js";import{S as L,D as O}from"./collapseData.fd5e9c1c.js";import{P as A,S as T}from"./PieRechartReport.13a7e861.js";import{E as J,R as W,O as g}from"./FlagModal.064029f0.js";import"./vendor_core_js_pure.0c656a9d.js";import"./vendor_react_epic_spinners.9d092b60.js";import"./vendor_mui_datatables.7a9f4bd2.js";import"./vendor_lodash.50cc0a37.js";import"./vendor_react_slick.6e983608.js";import"./vendor_react_easy_edit.0ee73127.js";import"./vendor_react_player.4dedbcdd.js";import"./vendor_devextreme.094cfe42.js";var t="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\campus\\CampusStudentsData.jsx";const _="https://dev-join.navgurukul.org/api/",ne=()=>{var d;const{campusId:i}=U(),{loggedInUser:D,roles:p}=f(e=>e.auth),{privileges:u}=f(e=>e.auth),x=k(),h=()=>x(B(!1)),[l,m]=c.useState(0),[N,w]=b.exports.useState([]),E=async()=>{var e;try{const s=p.findIndex(r=>r.role==="Admin"),o=p.find(r=>r.role==="Campus"),n=((e=o==null?void 0:o.access)==null?void 0:e.map(r=>r.access))||[],P=`${_}campus`,v=(await G.get(P)).data.data;w(s!==-1?[...v,{campus:"All"}]:[...v.filter(r=>n.includes(r.id))])}catch(s){console.error("Error fetching campus data:",s)}finally{h()}};b.exports.useEffect(()=>{(async()=>await E())()},[D]);const C=(d=N.find(e=>e.id===parseInt(i,10)))==null?void 0:d.campus,S={name:"evaluation",label:"Evaluation",options:{filter:!1,sort:!0,display:u.some(e=>e.privilege==="UpdateStudentEvaluation"),viewColumns:u.some(e=>e.privilege==="UpdateStudentEvaluation"),customBodyRender:c.useCallback((e,s,o)=>a.exports.jsxDEV(J,{rowMetatable:s,evaluation:e,change:n=>o(n)},void 0,!1,{fileName:t,lineNumber:82,columnNumber:11},void 0),[])}},j={label:"Flag",name:"redflag",options:{filter:!0,filterType:"dropdown",display:u.some(e=>e.privilege==="ViewFlag"),viewColumns:u.some(e=>e.privilege==="ViewFlag"),customBodyRender:c.useCallback((e,s,o)=>a.exports.jsxDEV(W,{rowMetaTable:s,studentId:s.rowData[0],comment:e,change:n=>o(n)},void 0,!1,{fileName:t,lineNumber:103,columnNumber:11},void 0),[])}},V=()=>{m(0)},y=()=>{m(1)},R=()=>{m(2)},F=()=>{m(3)},I=e=>{switch(e){case 0:return a.exports.jsxDEV(g,{},void 0,!1,{fileName:t,lineNumber:132,columnNumber:16},void 0);case 1:return a.exports.jsxDEV(O,{isCampus:!0,displayData:[...M.CampusData,S,j,$],url:`campus/${i}/students`,campusID:i},void 0,!1,{fileName:t,lineNumber:135,columnNumber:11},void 0);case 2:return a.exports.jsxDEV(T,{url:`campus/${i}`},void 0,!1,{fileName:t,lineNumber:148,columnNumber:16},void 0);case 3:return a.exports.jsxDEV(A,{url:`/campus/${i}/students/distribution`},void 0,!1,{fileName:t,lineNumber:151,columnNumber:11},void 0);default:return a.exports.jsxDEV(g,{},void 0,!1,{fileName:t,lineNumber:154,columnNumber:16},void 0)}};return a.exports.jsxDEV(a.exports.Fragment,{children:[a.exports.jsxDEV(L,{name:`${C} Campus`,overview:{label:"Overview",action:V},progressMade:{label:"Progress Made",action:R},studentData:{label:"Student Data",action:y},showGraphData:{label:"Graph on Job",action:F},selected:l===0?"overview":l===1?"studentData":l===2?"progressMade":"showGraphData"},void 0,!1,{fileName:t,lineNumber:159,columnNumber:7},void 0),I(l)]},void 0,!0)};export{ne as default};
