import{r as W,p as G,c as q,d as Y}from"./vendor.0db79331.js";var D={exports:{}};(function(z,I){(function(y,b){b(I,W.exports,G.exports)})(q,function(y,b,M){function x(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var i=x(b),t=x(M);function R(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}function N(n,u){for(var o=0;o<u.length;o++){var a=u[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,U(a.key),a)}}function w(n,u,o){return u&&N(n.prototype,u),o&&N(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function C(n,u,o){return(u=U(u))in n?Object.defineProperty(n,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[u]=o,n}function v(){return v=Object.assign?Object.assign.bind():function(n){for(var u=1;u<arguments.length;u++){var o=arguments[u];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},v.apply(this,arguments)}function k(n,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(u&&u.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),u&&B(n,u)}function T(n){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},T(n)}function B(n,u){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},B(n,u)}function h(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function V(n){var u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,a=T(n);if(u){var e=T(this).constructor;o=Reflect.construct(a,arguments,e)}else o=a.apply(this,arguments);return function(l,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(l)}(this,o)}}function U(n){var u=function(o,a){if(typeof o!="object"||o===null)return o;var e=o[Symbol.toPrimitive];if(e!==void 0){var l=e.call(o,a||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}(n,"string");return typeof u=="symbol"?u:String(u)}(function(n,u){u===void 0&&(u={});var o=u.insertAt;if(n&&typeof document!="undefined"){var a=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",o==="top"&&a.firstChild?a.insertBefore(e,a.firstChild):a.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}})(".easy-edit-button-wrapper{display:inline}.easy-edit-hover-on{cursor:pointer;font-style:italic}.easy-edit-radio-label{display:block}.easy-edit-not-allowed{cursor:not-allowed}.easy-edit-checkbox-label{display:block}.easy-edit-textarea{min-height:40px}.easy-edit-button{border:none;display:inline-block;margin:0 2px;padding:4px;text-align:center;text-decoration:none}.easy-edit-component-wrapper{display:inline-grid}.easy-edit-validation-error{color:red}");var p=Object.freeze({DEFAULT_PLACEHOLDER:"Click to edit",DEFAULT_SELECT_PLACEHOLDER:"Select ...",DEFAULT_SAVE_BUTTON_LABEL:"Save",DEFAULT_CANCEL_BUTTON_LABEL:"Cancel",DEFAULT_DELETE_BUTTON_LABEL:"Delete",DEFAULT_BUTTON_CSS_CLASS:"easy-edit-button",DEFAULT_ON_HOVER_CSS_CLASS:"easy-edit-hover-on",ERROR_UNSUPPORTED_TYPE:"Unsupported component type, please review documentation for supported HTML component types",FAILED_VALIDATION_MESSAGE:"Please provide a valid value",POSITION_AFTER:"after",POSITION_BEFORE:"before"}),O=function(n){var u=n.options,o=n.value,a=n.onChange,e=n.placeholder,l=n.attributes,s=n.cssClassPrefix,r=n.onFocus,f=n.onBlur;return i.default.createElement("div",{className:s+"easy-edit-component-wrapper"},i.default.createElement("select",v({value:o||"",onChange:a,onFocus:r,onBlur:f},l),i.default.createElement("option",{key:"",value:"",disabled:"disabled"},e),u.map(function(c){return i.default.createElement("option",{value:c.value,key:c.value},c.label)})))};O.propTypes={options:t.default.array.isRequired,onChange:t.default.func,value:t.default.oneOfType([t.default.string,t.default.number]),placeholder:t.default.oneOfType([t.default.string,t.default.element]),attributes:t.default.object,cssClassPrefix:t.default.string,onFocus:t.default.func,onBlur:t.default.func},O.defaultProps={attributes:{},placeholder:p.DEFAULT_SELECT_PLACEHOLDER};var g=function(n){var u=n.type,o=n.value,a=n.placeholder,e=n.onChange,l=n.attributes,s=n.cssClassPrefix,r=n.onFocus,f=n.onBlur;return i.default.createElement("div",{className:s+"easy-edit-component-wrapper"},i.default.createElement("input",v({autoFocus:l.autoFocus||!0,type:u,value:o||void 0,onChange:e,onFocus:r,onBlur:f,placeholder:l.placeholder||a,autoComplete:l.autoComplete||"off"},l)))};g.propTypes={type:t.default.string.isRequired,onChange:t.default.func,value:t.default.string,placeholder:t.default.oneOfType([t.default.string,t.default.element]),attributes:t.default.object,cssClassPrefix:t.default.string,onFocus:t.default.func,onBlur:t.default.func},g.defaultProps={attributes:{},placeholder:p.DEFAULT_PLACEHOLDER,onfocus:function(){}};var _=function(n){var u=n.value,o=n.placeholder,a=n.onChange,e=n.attributes,l=n.cssClassPrefix,s=n.onFocus,r=n.onBlur;return i.default.createElement("div",{className:l+"easy-edit-component-wrapper"},i.default.createElement("textarea",v({autoFocus:e.autoFocus||!0,value:u,onChange:a,onFocus:s,onBlur:r,placeholder:o},e,{className:e.className!==void 0?e.className+" easy-edit-textarea":"easy-edit-textarea"})))};_.propTypes={onChange:t.default.func,value:t.default.string,placeholder:t.default.oneOfType([t.default.string,t.default.element]),attributes:t.default.object,cssClassPrefix:t.default.string,onBlur:t.default.func,onFocus:t.default.func},_.defaultProps={attributes:{},placeholder:p.DEFAULT_PLACEHOLDER};var A=function(n){var u=n.options,o=n.value,a=n.onChange,e=n.attributes,l=n.cssClassPrefix,s=n.onFocus,r=n.onBlur,f=u.map(function(c){return i.default.createElement("label",{key:c.value,className:l+"easy-edit-radio-label"},i.default.createElement("input",v({type:"radio",value:c.value,onChange:a,onFocus:s,onBlur:r,checked:c.value===o},e)),c.label)});return i.default.createElement("div",null,f)};A.propTypes={onChange:t.default.func,value:t.default.oneOfType([t.default.string,t.default.number]),attributes:t.default.object,cssClassPrefix:t.default.string,onFocus:t.default.func,onBlur:t.default.func},A.defaultProps={attributes:{}};var L=function(n){var u=n.options,o=n.value,a=n.onChange,e=n.attributes,l=n.cssClassPrefix,s=n.onFocus,r=n.onBlur;o=o||[];var f=u.map(function(c){return i.default.createElement("label",{key:c.value,className:l+"easy-edit-checkbox-label"},i.default.createElement("input",v({},e,{type:"checkbox",value:c.value,key:c.value,onChange:a,onFocus:s,onBlur:r,checked:o.includes(c.value)})),c.label)});return i.default.createElement("div",null,f)};L.propTypes={onChange:t.default.func,options:t.default.array.isRequired,value:t.default.array,attributes:t.default.object,cssClassPrefix:t.default.string,onFocus:t.default.func,onBlur:t.default.func},L.defaultProps={attributes:{}};var S=function(n){var u=n.value,o=u===void 0?"":u,a=n.onChange,e=n.attributes,l=n.cssClassPrefix,s=n.onFocus,r=n.onBlur;return i.default.createElement("div",{className:l+"easy-edit-component-wrapper"},i.default.createElement("input",v({type:"color",defaultValue:o,onChange:a,onFocus:s,onBlur:r},e)))};S.propTypes={onChange:t.default.func,value:t.default.string,attributes:t.default.object,cssClassPrefix:t.default.string,onFocus:t.default.func,onBlur:t.default.func},S.defaultProps={attributes:{}};var P=function(n){var u=n.options,o=n.value,a=n.onChange,e=n.attributes,l=n.placeholder,s=n.cssClassPrefix,r=n.onFocus,f=n.onBlur,c=i.default.createRef(),E=u.map(function(m){return i.default.createElement("option",{key:m.value,value:m.label})});return i.default.createElement("div",{className:s+"easy-edit-component-wrapper"},i.default.createElement("input",v({autoFocus:e.autoFocus||!0,value:o||void 0,onChange:a,onFocus:r,onBlur:f,placeholder:l,autoComplete:e.autoComplete||"off"},e,{list:c})),i.default.createElement("datalist",{id:c},E))};P.propTypes={onChange:t.default.func,value:t.default.oneOfType([t.default.string,t.default.number]),attributes:t.default.object,cssClassPrefix:t.default.string,onFocus:t.default.func,onBlur:t.default.func},P.defaultProps={attributes:{}};var j=function(n){k(o,n);var u=V(o);function o(a){var e;return R(this,o),(e=u.call(this,a)).state={value:a.value},e.setValue=e.setValue.bind(h(e)),e.onBlur=e.onBlur.bind(h(e)),e.onFocus=e.onFocus.bind(h(e)),e}return w(o,[{key:"setValue",value:function(a){var e=this;this.setState({value:a},function(){return e.props.setValue(a)})}},{key:"onBlur",value:function(){this.props.onBlur()}},{key:"onFocus",value:function(){this.props.onFocus()}},{key:"render",value:function(){var a=this.state.value,e=this.props,l=e.children,s=e.cssClassPrefix,r=i.default.cloneElement(i.default.Children.only(l),{setParentValue:this.setValue,onBlur:this.onBlur,onFocus:this.onFocus,value:a});return i.default.createElement("div",{className:s+"easy-edit-component-wrapper"},r)}}]),o}(b.Component),F=function(n){k(o,n);var u=V(o);function o(a){var e;return R(this,o),C(h(e=u.call(this,a)),"onKeyDown",function(l){var s=e.props,r=s.type,f=s.disableAutoSubmit;s.disableAutoCancel||l.keyCode!==27||e._onCancel(),f||(l.keyCode===13&&r!==d.TEXTAREA||l.keyCode===13&&l.ctrlKey&&r===d.TEXTAREA)&&e._onSave()}),C(h(e),"_onSave",function(){var l=e.props,s=l.onSave,r=l.onValidate,f=e.state.tempValue;r(f)?e.setState({editing:!1,value:f,isValid:!0,hover:!1},function(){return s(e.state.value)}):e.setState({isValid:!1})}),C(h(e),"_onBlur",function(){var l=e.props,s=l.onBlur,r=l.saveOnBlur,f=l.cancelOnBlur;r&&f&&console.warn("EasyEdit: You've set both `saveOnBlur` and `cancelOnBlur` to true, please set either one to false."),r?(s(e.state.tempValue),e._onSave()):f?e._onCancel():s(e.state.tempValue)}),C(h(e),"_onFocus",function(){var l=e.props.onFocus;l&&l(e.state.tempValue)}),C(h(e),"_onCancel",function(){var l=e.props.onCancel,s=e.state.value;e.setState({editing:!1,tempValue:s,hover:!1},function(){return l()})}),C(h(e),"_onDelete",function(){var l=e.props.onDelete,s=e.state.value;e.setState({editing:!1,tempValue:s,hover:!1,isHidden:!0},function(){return l()})}),C(h(e),"onChange",function(l){e.setState({tempValue:l.target?l.target.value:l})}),C(h(e),"onCheckboxChange",function(l){var s=e.props.options,r=e.state.tempValue||[];l.target.checked&&!r.includes(l.target.value)?r.push(l.target.value):r.splice(r.indexOf(l.target.value),1);var f=s.map(function(c){return c.value});r=r.filter(function(c){return f.includes(c)}),e.setState({tempValue:r})}),C(h(e),"onClick",function(){e.props.allowEdit&&e.setState({editing:!0})}),C(h(e),"hoverOn",function(){e.props.allowEdit&&e.setState({hover:!0})}),C(h(e),"hoverOff",function(){e.setState({hover:!1})}),e.state={editing:a.editMode||!1,hover:!1,value:a.value,tempValue:a.value,isValid:!0,isHidden:!1},e.saveButton=i.default.createRef(),e.cancelButton=i.default.createRef(),e.deleteButton=i.default.createRef(),e}return w(o,[{key:"isNullish",value:function(a){return a==null}},{key:"componentDidUpdate",value:function(a){this.props.value!==a.value&&this.setState({tempValue:this.props.value,value:this.props.value}),this.props.editMode===a.editMode||this.props.editMode||this._onSave()}},{key:"renderInput",value:function(){var a=this.props,e=a.type,l=a.options,s=a.placeholder,r=a.attributes,f=a.editComponent,c=a.cssClassPrefix,E=this.state.editing;if(this.cullAttributes(),i.default.isValidElement(f))return i.default.createElement(j,{setValue:this.onChange,onBlur:this._onBlur,onFocus:this._onFocus(),value:this.state.tempValue,cssClassPrefix:c},f);switch(e){case d.TEXT:case d.FILE:case d.PASSWORD:case d.EMAIL:case d.NUMBER:case d.DATE:case d.DATETIME_LOCAL:case d.TIME:case d.MONTH:case d.WEEK:case d.RANGE:return i.default.createElement(g,{value:E?this.state.tempValue:this.state.value,placeholder:s,onChange:this.onChange,onFocus:this._onFocus(),onBlur:this._onBlur,type:e,attributes:r,cssClassPrefix:c});case d.COLOR:return i.default.createElement(S,{value:E?this.state.tempValue:this.state.value,onChange:this.onChange,onFocus:this._onFocus(),onBlur:this._onBlur,attributes:r,cssClassPrefix:c});case d.TEXTAREA:return i.default.createElement(_,{value:E?this.state.tempValue:this.state.value,placeholder:s,onChange:this.onChange,onFocus:this._onFocus(),onBlur:this._onBlur,attributes:r,cssClassPrefix:c});case d.SELECT:return i.default.createElement(O,{value:E?this.state.tempValue:this.state.value,onChange:this.onChange,onFocus:this._onFocus(),onBlur:this._onBlur,options:l,placeholder:s===p.DEFAULT_PLACEHOLDER?p.DEFAULT_SELECT_PLACEHOLDER:s,attributes:r,cssClassPrefix:c});case d.RADIO:return i.default.createElement(A,{value:E?this.state.tempValue:this.state.value,onChange:this.onChange,onFocus:this._onFocus(),onBlur:this._onBlur,options:l,attributes:r,cssClassPrefix:c});case d.CHECKBOX:return i.default.createElement(L,{value:E?this.state.tempValue:this.state.value,onChange:this.onCheckboxChange,onFocus:this._onFocus(),onBlur:this._onBlur,options:l,attributes:r,cssClassPrefix:c});case d.DATALIST:return i.default.createElement(P,{value:E?this.state.tempValue:this.state.value,onChange:this.onChange,onFocus:this._onFocus(),onBlur:this._onBlur,options:l,attributes:r,cssClassPrefix:c});default:throw new Error(p.ERROR_UNSUPPORTED_TYPE)}}},{key:"renderButtons",value:function(){var a=this.props,e=a.saveOnBlur,l=a.saveButtonLabel,s=a.saveButtonStyle,r=a.cancelButtonLabel,f=a.cancelButtonStyle,c=a.deleteButtonLabel,E=a.deleteButtonStyle,m=a.cssClassPrefix,H=a.hideSaveButton,X=a.hideCancelButton,K=a.hideDeleteButton;return i.default.createElement("div",{className:m+"easy-edit-button-wrapper"},!H&&o.generateButton(this.saveButton,this._onSave,l,s===null?m+p.DEFAULT_BUTTON_CSS_CLASS:s,"save",e),!X&&o.generateButton(this.cancelButton,this._onCancel,r,f===null?m+p.DEFAULT_BUTTON_CSS_CLASS:f,"cancel",e),!K&&o.generateButton(this.deleteButton,this._onDelete,c,E===null?m+p.DEFAULT_BUTTON_CSS_CLASS:E,"delete",e))}},{key:"renderValidationMessage",value:function(){var a=this.props,e=a.validationMessage,l=a.cssClassPrefix;if(!this.state.isValid)return i.default.createElement("div",{className:l+"easy-edit-validation-error"},e)}},{key:"renderInstructions",value:function(){var a=this.props,e=a.instructions,l=a.cssClassPrefix,s=a.editMode;if((this.state.editing||s)&&e!==null)return i.default.createElement("div",{className:l+"easy-edit-instructions"},e)}},{key:"setCssClasses",value:function(a){var e=this.props,l=e.viewAttributes,s=e.cssClassPrefix,r=e.onHoverCssClass;return l.class&&(a+=" "+l.class),l.className&&(a+=" "+l.className),this.props.allowEdit?this.state.hover?r===p.DEFAULT_ON_HOVER_CSS_CLASS?s+"easy-edit-hover-on "+a:r+" "+a:a:s+"easy-edit-not-allowed "+a}},{key:"renderPlaceholder",value:function(){var a=this.props,e=a.type,l=a.placeholder,s=a.displayComponent,r=a.viewAttributes,f=a.cssClassPrefix;this.cullAttributes();var c=f+"easy-edit-wrapper";if(i.default.isValidElement(s))return i.default.createElement("div",v({},r,{className:this.setCssClasses(c),onClick:this.onClick,onMouseEnter:this.hoverOn,onMouseLeave:this.hoverOff}),this.isNullish(this.state.value)?l:i.default.cloneElement(s,{value:this.state.value}));switch(e){case d.TEXT:case d.FILE:case d.DATALIST:case d.EMAIL:case d.TEXTAREA:case d.NUMBER:case d.DATE:case d.DATETIME_LOCAL:case d.TIME:case d.MONTH:case d.WEEK:case d.RANGE:case d.PASSWORD:return i.default.createElement("div",v({},r,{className:this.setCssClasses(c),onClick:this.onClick,onMouseEnter:this.hoverOn,onMouseLeave:this.hoverOff}),this.isNullish(this.state.value)?l:e===d.PASSWORD?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":this.state.value);case d.RADIO:case d.CHECKBOX:case d.SELECT:return i.default.createElement("div",v({},r,{className:this.setCssClasses(c),onClick:this.onClick,onMouseEnter:this.hoverOn,onMouseLeave:this.hoverOff}),this.renderComplexView());case d.COLOR:return i.default.createElement("input",v({},r,{type:e,value:this.state.value,onClick:this.onClick,readOnly:!0}));default:throw new Error(p.ERROR_UNSUPPORTED_TYPE)}}},{key:"renderComplexView",value:function(){var a,e=this,l=this.props,s=l.placeholder,r=l.options,f=l.type;return this.isNullish(this.state.value)||this.state.value.length===0?s:(a=d.CHECKBOX===f?r.filter(function(c){return e.state.value.includes(c.value)}):r.filter(function(c){return e.state.value===c.value})).length!==0?a.map(function(c){return c.label}).join(", "):this.state.value}},{key:"cullAttributes",value:function(){var a=this.props.attributes;delete a.type,delete a.onChange,delete a.value}},{key:"render",value:function(){var a=this,e=this.props,l=e.cssClassPrefix,s=e.buttonsPosition,r=e.editMode;return this.state.isHidden?"":this.state.editing||r?i.default.createElement("div",{className:l+"easy-edit-inline-wrapper",tabIndex:"0",onKeyDown:function(f){return a.onKeyDown(f)}},s===p.POSITION_BEFORE&&this.renderButtons(),this.renderInput(),s===p.POSITION_AFTER&&this.renderButtons(),this.renderInstructions(),this.renderValidationMessage()):this.renderPlaceholder()}}],[{key:"generateButton",value:function(a,e,l,s,r,f){return f?"":i.default.createElement("button",{ref:a,onClick:e,className:s,name:r},l)}}]),o}(i.default.Component),d={COLOR:"color",CHECKBOX:"checkbox",DATALIST:"datalist",DATE:"date",DATETIME_LOCAL:"datetime-local",EMAIL:"email",FILE:"file",MONTH:"month",NUMBER:"number",PASSWORD:"password",RADIO:"radio",RANGE:"range",SELECT:"select",TEXT:"text",TEXTAREA:"textarea",TIME:"time",WEEK:"week"};Object.freeze(d),F.propTypes={type:t.default.oneOf(["text","number","color","textarea","date","datetime-local","email","password","time","month","week","radio","checkbox","select","range","datalist","file"]).isRequired,value:t.default.oneOfType([t.default.string,t.default.number,t.default.array,t.default.object]),options:t.default.array,saveButtonLabel:t.default.oneOfType([t.default.string,t.default.element]),saveButtonStyle:t.default.string,cancelButtonLabel:t.default.oneOfType([t.default.string,t.default.element]),cancelButtonStyle:t.default.string,deleteButtonLabel:t.default.oneOfType([t.default.string,t.default.element]),deleteButtonStyle:t.default.string,buttonsPosition:t.default.oneOf(["after","before"]),placeholder:t.default.oneOfType([t.default.string,t.default.element]),onCancel:t.default.func,onDelete:t.default.func,onValidate:t.default.func,onFocus:t.default.func,onBlur:t.default.func,onSave:t.default.func.isRequired,validationMessage:t.default.string,allowEdit:t.default.bool,attributes:t.default.object,viewAttributes:t.default.object,instructions:t.default.string,editComponent:t.default.element,displayComponent:t.default.element,disableAutoSubmit:t.default.bool,disableAutoCancel:t.default.bool,cssClassPrefix:t.default.string,hideSaveButton:t.default.bool,hideCancelButton:t.default.bool,hideDeleteButton:t.default.bool,onHoverCssClass:t.default.string,saveOnBlur:t.default.bool,cancelOnBlur:t.default.bool,editMode:t.default.bool},F.defaultProps={value:null,saveButtonLabel:p.DEFAULT_SAVE_BUTTON_LABEL,saveButtonStyle:null,cancelButtonLabel:p.DEFAULT_CANCEL_BUTTON_LABEL,cancelButtonStyle:null,deleteButtonLabel:p.DEFAULT_DELETE_BUTTON_LABEL,deleteButtonStyle:null,buttonsPosition:p.POSITION_AFTER,placeholder:p.DEFAULT_PLACEHOLDER,allowEdit:!0,onCancel:function(){},onDelete:function(){},onfocus:function(){},onBlur:function(){},onValidate:function(n){return!0},validationMessage:p.FAILED_VALIDATION_MESSAGE,attributes:{},viewAttributes:{},instructions:null,editComponent:null,placeholderComponent:null,disableAutoSubmit:!1,disableAutoCancel:!1,cssClassPrefix:"",hideSaveButton:!1,hideCancelButton:!1,hideDeleteButton:!0,onHoverCssClass:p.DEFAULT_ON_HOVER_CSS_CLASS,saveOnBlur:!1,cancelOnBlur:!1,editMode:!1},y.Types=d,y.default=F,Object.defineProperty(y,"__esModule",{value:!0})})})(D,D.exports);var Q=Y(D.exports);export{Q as E};
