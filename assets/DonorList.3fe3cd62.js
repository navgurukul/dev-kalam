import{bg as D,bh as N,aI as v,r as g,j as c,ba as j,b_ as L}from"./vendor.0db79331.js";import{a as w}from"./vendor_axios.5abceb0c.js";import{M as y,c as R}from"./index.83743980.js";import"./vendor_core_js_pure.0c656a9d.js";import"./vendor_react_epic_spinners.9d092b60.js";import"./vendor_mui_datatables.7a9f4bd2.js";import"./vendor_lodash.50cc0a37.js";import"./vendor_react_slick.6e983608.js";import"./vendor_react_easy_edit.0ee73127.js";import"./vendor_react_player.4dedbcdd.js";var l="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\donor\\DonorList.jsx";const k="https://dev-join.navgurukul.org/api/",E=[{name:"id",label:"S.No",options:{filter:!0,sort:!0,customBodyRender:(t,s)=>s.rowIndex+1}},{name:"donor",label:"Name",options:{filter:!0,sort:!0,customBodyRender:(t,s)=>{const a=`/donor/${s.rowData[0]}/students`;return c.exports.jsxDEV(L,{to:a,style:{color:"#f05f40"},children:t},void 0,!1,{fileName:l,lineNumber:34,columnNumber:11},void 0)}}}],_=()=>{const{roles:t}=D(e=>e.auth),s=N(),n=()=>s(R(!1)),[a,m]=v.useState({data:[],showLoader:!0}),u=async e=>{var i;try{const r=t.find(o=>o.role==="Donor"),h=((i=r==null?void 0:r.access)==null?void 0:i.map(o=>o.access))||[],x=`${k}donors`,d=await w.get(x,{signal:e}),b=t.findIndex(o=>o.role==="Admin");m({...a,data:b!==-1?d.data:d.data.filter(o=>h.includes(o.id)),showLoader:!1})}catch{}};g.exports.useEffect(()=>{const e=new AbortController;return(async()=>u(e.signal))(),n(),()=>e.abort()},[]);const{data:f,showLoader:p}=a;return c.exports.jsxDEV(j,{maxWidth:"sm",children:c.exports.jsxDEV(y,{title:"Donors Name",columns:E,data:f,showLoader:p},void 0,!1,{fileName:l,lineNumber:85,columnNumber:7},void 0)},void 0,!1,{fileName:l,lineNumber:84,columnNumber:5},void 0)};export{_ as default};
