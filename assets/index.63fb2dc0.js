import{_ as B,J as x,L as $,K as ae,G as se}from"./index.83743980.js";import{aI as E,b9 as ne,dp as oe,bh as re,c9 as me,bg as A,r,bf as le,j as a,ba as ce,bb as ue,dq as de,bp as T,dr as D,ds as L}from"./vendor.0db79331.js";import{a as k}from"./vendor_axios.5abceb0c.js";import{u as _e}from"./vendor_react_hook_form.d8394e0d.js";import"./vendor_react_epic_spinners.9d092b60.js";import"./vendor_mui_datatables.7a9f4bd2.js";import"./vendor_lodash.50cc0a37.js";import"./vendor_react_slick.6e983608.js";import"./vendor_react_easy_edit.0ee73127.js";import"./vendor_react_player.4dedbcdd.js";import"./vendor_core_js_pure.0c656a9d.js";var s="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\onlineTest\\StudentForm\\index.jsx";const he=E.lazy(()=>B(()=>import("./index.6aaef72e.js"),["assets/index.6aaef72e.js","assets/vendor.0db79331.js","assets/vendor.e8bc3cfc.css","assets/vendor_core_js_pure.0c656a9d.js","assets/vendor_react_hook_form.d8394e0d.js","assets/index.83743980.js","assets/index.f3ccf979.css","assets/vendor_axios.5abceb0c.js","assets/vendor_react_epic_spinners.9d092b60.js","assets/vendor_mui_datatables.7a9f4bd2.js","assets/vendor_lodash.50cc0a37.js","assets/vendor_react_slick.6e983608.js","assets/vendor_react_easy_edit.0ee73127.js","assets/vendor_react_player.4dedbcdd.js"])),pe=E.lazy(()=>B(()=>import("./index.030eba8a.js"),["assets/index.030eba8a.js","assets/vendor.0db79331.js","assets/vendor.e8bc3cfc.css","assets/vendor_core_js_pure.0c656a9d.js","assets/vendor_axios.5abceb0c.js","assets/vendor_react_hook_form.d8394e0d.js","assets/index.83743980.js","assets/index.f3ccf979.css","assets/vendor_react_epic_spinners.9d092b60.js","assets/vendor_mui_datatables.7a9f4bd2.js","assets/vendor_lodash.50cc0a37.js","assets/vendor_react_slick.6e983608.js","assets/vendor_react_easy_edit.0ee73127.js","assets/vendor_react_player.4dedbcdd.js"])),ge=ne(n=>({root:{paddingTop:n.spacing(4),paddingBottom:n.spacing(2),display:"flex",flexDirection:"column",textAlign:"center"},container:{maxWidth:500,backgroundColor:n.palette.background.default},spacing:{paddingBottom:n.spacing(.5)},text:{marginTop:n.spacing(.5)},date:{maxWidth:400,paddingTop:n.spacing(-2),paddingBottom:n.spacing(1)}})),Ve=()=>{const n=ge(),v=oe(),C=re(),P=me(),{studentData:M,enrollmentKey:j,studentId:S="",partner:m}=A(e=>e.onlineTest),{lang:y}=A(e=>e.ui),{firstName:R,middleName:U,lastName:z,mobileNumber:W}=M||{firstName:null,middleName:null,lastName:null,mobileNumber:null},{register:F,handleSubmit:J,formState:{errors:V},control:I,setValue:K,watch:G,reset:q}=_e(),[u,H]=r.exports.useState(!1),[o,w]=r.exports.useState(0),{enqueueSnackbar:d}=le(),[O,Q]=r.exports.useState(!1),[i,_]=r.exports.useState({ProfileImage:"",FirstName:R||"",MiddleName:U||"",email:"",LastName:z||"",whatsapp:W||"",AlternateNumber:"",gender:"",dob:"",gps_lat:"-1",gps_long:"-1",PrevImage:"",district:"",pin_code:"",state:"",city:"",current_status:"",qualification:"",school_medium:"",caste:"",religion:"",math_marks_in10th:"",percentage_in10th:"",math_marks_in12th:"",percentage_in12th:""}),X=e=>{const t=new FormData;t.append("file",e),k.post(`${x}on_assessment/details/photo/${j}`,t).then(()=>{d("Photo Uploaded Successfully",{variant:"success"})}).catch(()=>{d("Please Provide Valid Image File",{variant:"error"})})},Y=e=>{_({...i,ProfileImage:e}),X(e)},h={1:"female",2:"male",3:"other"},p=["","obc","scSt","general","others"],g=["","lessThan10th","class10th","class12th","graduate","ba","bcom","mcom","msc","bca","bsc","bba"],f=["","hindu","islam","sikh","jain","christian","others"],b=["","nothing","job","study","other"],N=["","en","other"];r.exports.useEffect(()=>{},[]),r.exports.useEffect(()=>{const e=JSON.parse(window.sessionStorage.getItem("formData"));let t=window.sessionStorage.getItem("formData")||{};Object.keys(t).length>0&&(Q(!0),_({...i,PrevImage:e.image_url,FirstName:e.name.split(" ")[0],MiddleName:e.name.split(" ")[1],LastName:e.name.split(" ")[2],email:e.email,whatsapp:e.contacts[0].mobile,AlternateNumber:e.contacts[1]&&e.contacts[1].alt_mobile,dob:e.dob,gender:h[e.gender],district:e.district,pin_code:e.pin_code,state:e.state,city:e.city,current_status:b[e.current_status],qualification:g[e.qualification],school_medium:N[e.school_medium],caste:p[e.caste],religion:f[e.religon],math_marks_in10th:e.math_marks_in10th,percentage_in10th:e.percentage_in10th,math_marks_in12th:e.math_marks_in12th,percentage_in12th:e.percentage_in12th}),q({PrevImage:e.image_url,FirstName:e.name.split(" ")[0],MiddleName:e.name.split(" ")[1],LastName:e.name.split(" ")[2],email:e.email,whatsapp:e.contacts[0].mobile,AlternateNumber:e.contacts[1]&&e.contacts[1].alt_mobile,dob:e.dob,gender:h[e.gender],district:e.district,pin_code:e.pin_code,state:e.state,city:e.city,current_status:b[e.current_status],qualification:g[e.qualification],school_medium:N[e.school_medium],caste:p[e.caste],religion:f[e.religon],math_marks_in10th:e.math_marks_in10th,percentage_in10th:e.percentage_in10th,math_marks_in12th:e.math_marks_in12th,percentage_in12th:e.percentage_in12th}))},[]),r.exports.useEffect(()=>{S&&k.get(`${x}/students/${S}`).then(e=>{if(e.data.data.length>0){const t=e.data.data[0];H(!0),window.sessionStorage.setItem("formData",JSON.stringify(t)),_({...i,PrevImage:t.image_url,FirstName:t.name.split(" ")[0],MiddleName:t.name.split(" ")[1],LastName:t.name.split(" ")[2],email:t.email,whatsapp:t.contacts[0].mobile,AlternateNumber:t.contacts[1]&&t.contacts[1].alt_mobile,dob:t.dob,gender:h[t.gender],district:t.district,pin_code:t.pin_code,state:t.state,city:t.city,current_status:b[t.current_status],qualification:g[t.qualification],school_medium:N[t.school_medium],caste:p[t.caste],religion:f[t.religon],math_marks_in10th:t.math_marks_in10th,percentage_in10th:t.percentage_in10th,math_marks_in12th:t.math_marks_in12th,percentage_in12th:t.percentage_in12th}),q({PrevImage:t.image_url,FirstName:t.name.split(" ")[0],MiddleName:t.name.split(" ")[1],LastName:t.name.split(" ")[2],email:t.email,whatsapp:t.contacts[0].mobile,AlternateNumber:t.contacts[1]&&t.contacts[1].alt_mobile,dob:t.dob,gender:h[t.gender],district:t.district,pin_code:t.pin_code,state:t.state,city:t.city,current_status:b[t.current_status],qualification:g[t.qualification],school_medium:N[t.school_medium],caste:p[t.caste],religion:f[t.religon],math_marks_in10th:t.math_marks_in10th,percentage_in10th:t.percentage_in10th,math_marks_in12th:t.math_marks_in12th,percentage_in12th:t.percentage_in12th})}})},[]);const l=(()=>[{en:"Basic Details",hi:"\u092C\u0941\u0928\u093F\u092F\u093E\u0926\u0940 \u091C\u093E\u0928\u0915\u093E\u0930\u0940",ma:"\u092E\u0942\u0932\u092D\u0942\u0924 \u092E\u093E\u0939\u093F\u0924\u0940"},{en:"Other Details",hi:"\u0905\u0928\u094D\u092F \u091C\u093E\u0928\u0915\u093E\u0930\u0940",ma:"\u0907\u0924\u0930 \u092E\u093E\u0939\u093F\u0924\u0940"}])(),Z=e=>{const t={name:e.name,email:e.email,whatsapp:e.whatsapp,dob:e.dob,gender:e.gender,gps_lat:e.gps_lat,gps_long:e.gps_long,partner_refer:e.partner_refer,qualification:e.qualification,state:e.state,district:e.district,city:e.city,current_status:e.current_status,school_medium:e.school_medium,pin_code:e.pin_code,caste:e.caste,religon:e.religion,percentage_in10th:e.percentage_in10th?e.percentage_in10th:"",math_marks_in10th:e.math_marks_in10th,math_marks_in12th:e.math_marks_in12th,percentage_in12th:e.percentage_in12th?e.percentage_in12th:""};e.alt_mobile&&(t.alt_mobile=e.alt_mobile),u?k.put(`${x}students/updateDetails/${S}`,{gender:e.gender,gps_lat:e.gps_lat,gps_long:e.gps_long,partner_refer:e.partner_refer,qualification:e.qualification,state:e.state,district:e.district,city:e.city,current_status:e.current_status,school_medium:e.school_medium,pin_code:e.pin_code,caste:e.caste,religon:e.religion,percentage_in10th:"string",math_marks_in10th:0,percentage_in12th:"string",math_marks_in12th:0}).then(()=>{P("/test/finalinstruction/",{})}):k.post(`${x}on_assessment/details/${j}`,t).then(c=>{C(se(c.data.details.id)),P("/test/finalinstruction/",{})}).catch(()=>{d("Please fill all the fields properly",{variant:"error"})})},ee=(e,t)=>{if(t.preventDefault(),_(c=>({...c,...e})),o===0&&!i.PrevImage&&!i.ProfileImage){d("Please provide a Profile Picture",{variant:"error"});return}if(o>=l.length-1){Z({name:`${e.FirstName} ${e.MiddleName} ${e.LastName}`,alt_mobile:e.AlternateNumber,partner_refer:"NONE",image_url:i.ProfileImage,gps_lat:i.gps_lat?i.gps_lat:"",gps_long:i.gps_long?i.gps_lat:"",math_marks_in10th:i.math_marks_in10th?i.math_marks_in10th:"",math_marks_in12th:i.math_marks_in12th?i.math_marks_in12th:"",...e});return}w(c=>c+1)},te=()=>{w(e=>e-1)},ie=e=>{switch(e){case 0:return a.exports.jsxDEV(E.Suspense,{fallback:a.exports.jsxDEV($,{},void 0,!1,{fileName:s,lineNumber:432,columnNumber:37},void 0),children:a.exports.jsxDEV(he,{lang:y,formData:i,reactForm:{register:F,errors:V,control:I},inputDisabled:u||O,pfpCompulsion:!ae.includes(m==null?void 0:m.slug),setProfileImage:Y},void 0,!1,{fileName:s,lineNumber:433,columnNumber:13},void 0)},void 0,!1,{fileName:s,lineNumber:432,columnNumber:11},void 0);case 1:return a.exports.jsxDEV(E.Suspense,{fallback:a.exports.jsxDEV($,{},void 0,!1,{fileName:s,lineNumber:446,columnNumber:37},void 0),children:a.exports.jsxDEV(pe,{formData:{name:`${i.FirstName} ${i.MiddleName} ${i.LastName}`,alt_mobile:i.AlternateNumber,partner_refer:"NONE",image_url:i.ProfileImage,...i},reactForm:{register:F,errors:V,control:I,watch:G,setValue:K},lang:y,alreadyAUser:u,partnerSlug:m==null?void 0:m.slug,inputDisabled:u||O},void 0,!1,{fileName:s,lineNumber:447,columnNumber:13},void 0)},void 0,!1,{fileName:s,lineNumber:446,columnNumber:11},void 0);default:return a.exports.jsxDEV("div",{},void 0,!1,{fileName:s,lineNumber:465,columnNumber:16},void 0)}};return a.exports.jsxDEV(ce,{className:n.root,maxWidth:"sm",children:[a.exports.jsxDEV(ue,{variant:"h5",className:n.text,children:l[o][y]},void 0,!1,{fileName:s,lineNumber:471,columnNumber:7},void 0),a.exports.jsxDEV("form",{style:{paddingTop:"2.0rem"},noValidate:!0,onSubmit:J(ee),children:[ie(o),a.exports.jsxDEV(de,{style:{marginTop:"1.6rem"},variant:"dots",position:"static",steps:l.length,activeStep:o,nextButton:a.exports.jsxDEV(T,{size:"medium",type:"submit",variant:o===l.length-1?"contained":"text",color:"primary",children:[o===l.length-1?"Submit Data":"Next",v.direction==="rtl"?a.exports.jsxDEV(D,{},void 0,!1,{fileName:s,lineNumber:496,columnNumber:17},void 0):a.exports.jsxDEV(L,{},void 0,!1,{fileName:s,lineNumber:498,columnNumber:17},void 0)]},void 0,!0,{fileName:s,lineNumber:487,columnNumber:13},void 0),backButton:a.exports.jsxDEV(T,{size:"medium",onClick:te,disabled:o===0,children:[v.direction==="rtl"?a.exports.jsxDEV(L,{},void 0,!1,{fileName:s,lineNumber:509,columnNumber:17},void 0):a.exports.jsxDEV(D,{},void 0,!1,{fileName:s,lineNumber:511,columnNumber:17},void 0),"Back"]},void 0,!0,{fileName:s,lineNumber:503,columnNumber:13},void 0)},void 0,!1,{fileName:s,lineNumber:480,columnNumber:9},void 0)]},void 0,!0,{fileName:s,lineNumber:474,columnNumber:7},void 0)]},void 0,!0,{fileName:s,lineNumber:470,columnNumber:5},void 0)};export{Ve as default};
