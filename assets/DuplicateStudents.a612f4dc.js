import{bf as V,c9 as K,bh as z,bg as G,aI as l,bE as U,j as a,bp as S,r as O,bb as Y}from"./vendor.0db79331.js";import{M as q}from"./vendor_mui_datatables.7a9f4bd2.js";import{a as v}from"./vendor_axios.5abceb0c.js";import{E as M,F as W,G as H,b as h,c as F}from"./index.83743980.js";import"./vendor_core_js_pure.0c656a9d.js";import"./vendor_lodash.50cc0a37.js";import"./vendor_react_epic_spinners.9d092b60.js";import"./vendor_react_slick.6e983608.js";import"./vendor_react_easy_edit.0ee73127.js";import"./vendor_react_player.4dedbcdd.js";var o="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\pages\\DuplicateStudents.jsx";const D="https://dev-join.navgurukul.org/api/",oe=()=>{const{enqueueSnackbar:x}=V(),c=K(),s=z(),k=()=>s(F(!0)),d=()=>s(F(!1)),{lang:A}=G(e=>e.ui),[I,B]=l.useState(null),[n,j]=l.useState({data:[],pendingInterviewStage:"checking"}),{search:N}=U(),m=N.split("=")[1].split("&")[0],p=N.split("=")[2].split("&")[0],$=async e=>{try{const t=`0${p}`;k();const u=`${D}helpline/register_exotel_call`,b=await v.get(u,{params:{ngCallType:"getEnrolmentKey",From:t,partner_id:I,student_id:e}});return d(),b}catch(t){throw x("Something went wrong",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),d(),Error(t.message)}},C=[{name:"id",label:"Re-Test",options:{filter:!1,customBodyRender:l.useCallback((e,t)=>a.exports.jsxDEV(S,{disabled:t.rowData[1]==="pendingEnglishInterview"||t.rowData[1]==="pendingCultureFitInterview"||t.rowData[1]==="pendingAlgebraInterview",variant:"contained",color:"primary",style:{fontSize:"10px"},onClick:async()=>{const u=await $(e),[b,L,P]=m.split("_");s(M({firstName:b,middleName:L,lastName:P,mobileNumber:p})),s(W(u.data.key)),s(H(e)),c("/test/instructions"),d()},children:"Re-Test"},void 0,!1,{fileName:o,lineNumber:71,columnNumber:13},void 0),[])}},{name:"stage",label:"Stage",options:{filter:!1,customBodyRender:e=>h[e]}},{name:"stage",label:"Book Slot",options:{filter:!1,customBodyRender:l.useCallback((e,t)=>a.exports.jsxDEV(S,{disabled:t.rowData[1]!=="pendingEnglishInterview"&&t.rowData[1]!=="pendingCultureFitInterview"&&t.rowData[1]!=="pendingAlgebraInterview",variant:"contained",color:"primary",style:{fontSize:"10px"},onClick:()=>{c({pathname:`/bookSlot/${t.rowData[0]}`})},children:"Book Slot"},void 0,!1,{fileName:o,lineNumber:119,columnNumber:13},void 0),[])}},{name:"total_marks",label:"Marks",options:{filter:!1,customBodyRender:(e,t)=>t.rowData[1]==="enrolmentKeyGenerated"&&e===null?"Last Test Not Submitted":e}},{name:"key",label:"Key",options:{filter:!1,display:!1,viewColumns:!1}}],w={stageMessage:{en:`Your  ${h[n.pendingInterviewStage]} is still pending. You\u2019re not required to give the online test now. We will soon complete your admission process.`,hi:`\u0906\u092A\u0915\u093E  ${h[n.pendingInterviewStage]}  \u0905\u092D\u0940 \u092D\u0940 \u091A\u0932 \u0930\u0939\u093E \u0939\u0948\u0902\u0964 \u0905\u092D\u0940 \u0906\u092A\u0915\u094B \u0911\u0928\u0932\u093E\u0907\u0928 \u092A\u0930\u0940\u0915\u094D\u0937\u093E \u0926\u0947\u0928\u0947 \u0915\u0940 \u0906\u0935\u0936\u094D\u092F\u0915\u0924\u093E \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u0939\u092E \u091C\u0932\u094D\u0926 \u0939\u0940 \u0906\u092A\u0915\u0940 \u092A\u094D\u0930\u0935\u0947\u0936 \u092A\u094D\u0930\u0915\u094D\u0930\u093F\u092F\u093E (\u090F\u0921\u092E\u093F\u0936\u0928 \u092A\u094D\u0930\u094B\u0938\u0947\u0938) \u092A\u0942\u0930\u0940 \u0915\u0930 \u0926\u0947\u0902\u0917\u0947\u0964`},testFailedMessage:{en:", Your previous attempts were unsuccessful/test failed, please give the 1st stage of the online test again.",hi:", \u0906\u092A\u0915\u0947 \u092A\u093F\u091B\u0932\u0947 \u091F\u0947\u0938\u094D\u091F \u0905\u0938\u092B\u0932 \u0930\u0939\u0947 \u092F\u093E \u0906\u092A \u092A\u093E\u0938 \u0928\u0939\u0940\u0902 \u0939\u094B \u092A\u093E\u090F, \u0915\u0943\u092A\u092F\u093E \u0911\u0928\u0932\u093E\u0907\u0928 \u091F\u0947\u0938\u094D\u091F \u0935\u093E\u092A\u0938 \u0938\u0947 \u0926\u0947\u0964"}},R=()=>{const e=p;v.get(`${D}check_duplicate`,{params:{Name:m.split("_").join(""),Number:e}}).then(async t=>{const u=t.data.data;u.alreadyGivenTest&&j({...n,data:u.data,pendingInterviewStage:u.data[0].stage})})},_=async e=>{try{const t=await v.get(`${D}partners/slug/${e}`,{});B(t.data.data.id)}catch{c("/notFound")}};O.exports.useEffect(()=>{const e=window.location.href.split("partnerLanding/")[1];e&&_(e),R()},[]);const{data:T}=n,E=A;let i,g="",r;const f=m.split("_"),{pendingInterviewStage:y}=n;return f.length===3?[i,g,r]=f:[i,r]=f,a.exports.jsxDEV(a.exports.Fragment,{children:[a.exports.jsxDEV(Y,{variant:"h5",id:"modal-title",children:["Student Status",a.exports.jsxDEV("br",{},void 0,!1,{fileName:o,lineNumber:237,columnNumber:9},void 0)]},void 0,!0,{fileName:o,lineNumber:235,columnNumber:7},void 0),a.exports.jsxDEV(q,{title:y==="enrolmentKeyGenerated"||y==="testFailed"?`${i.concat(" ",g," ",r)}
            ${w.testFailedMessage[E]}`:`${i.concat(" ",g," ",r)}${w.stageMessage[E]}`,columns:C,data:T,options:{viewColumns:!1,print:!1,download:!1,exportButton:!0,pageSize:100,selectableRows:"none",rowsPerPage:20,rowsPerPageOptions:[20,40,60],toolbar:!1,filter:!1,responsive:"vertical"}},void 0,!1,{fileName:o,lineNumber:239,columnNumber:7},void 0)]},void 0,!0)};export{oe as default};
