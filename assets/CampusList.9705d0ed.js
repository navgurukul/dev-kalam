import{j as e,aT as L,aU as R,aV as S,bg as T,aI as d,r as p,ba as W,bl as A,bn as I,bW as U,bq as v,bp as F,b_ as _}from"./vendor.0db79331.js";import{a as D}from"./vendor_axios.5abceb0c.js";import{M as $}from"./index.83743980.js";import"./vendor_core_js_pure.0c656a9d.js";import"./vendor_react_epic_spinners.9d092b60.js";import"./vendor_mui_datatables.7a9f4bd2.js";import"./vendor_lodash.50cc0a37.js";import"./vendor_react_slick.6e983608.js";import"./vendor_react_easy_edit.0ee73127.js";import"./vendor_react_player.4dedbcdd.js";var f="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\campus\\ToolbarAddCampuses.jsx";const B=({handleOpen:t,disabled:o})=>e.exports.jsxDEV(L,{title:"Add new campuses",children:e.exports.jsxDEV(R,{disabled:o,onClick:t,children:e.exports.jsxDEV(S,{},void 0,!1,{fileName:f,lineNumber:9,columnNumber:7},void 0)},void 0,!1,{fileName:f,lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:f,lineNumber:7,columnNumber:3},void 0);var s="C:\\Users\\poona\\OneDrive\\Documents\\Poonam\\React\\Work\\kalam\\src\\components\\campus\\CampusList.jsx";const h="https://dev-join.navgurukul.org/api/",O=[{name:"id",label:"S.No",options:{filter:!0,sort:!0,customBodyRender:(t,o)=>o.rowIndex+1}},{name:"campus",label:"Name",options:{filter:!0,sort:!0,customBodyRender:(t,o)=>{const i=o.rowData[0],m=t==="All"?"/campus/allcampus/":`/campus/${i}/students`;return e.exports.jsxDEV(_,{to:m,style:{color:"#f05f40"},children:t},void 0,!1,{fileName:s,lineNumber:44,columnNumber:11},void 0)}}}],Y=()=>{const{loggedInUser:t,roles:o}=T(a=>a.auth),[i,m]=d.useState([]),[C,j]=d.useState(!0),[g,n]=p.exports.useState(!1),[l,u]=p.exports.useState({campus:"",address:""}),E=async()=>{if(l.campus&&l.address){const a=`${h}campus`;await D.post(a,l),u(""),N(),n(!1)}},y=()=>{n(!0)},V={selectableRows:"none",responsive:"vertical",filter:!1,customToolbar:d.useCallback(()=>e.exports.jsxDEV(B,{handleOpen:y},void 0,!1,{fileName:s,lineNumber:80,columnNumber:13},void 0),[])},N=async()=>{var a;try{const b=o.findIndex(r=>r.role==="Admin"),c=o.find(r=>r.role==="Campus"),w=((a=c==null?void 0:c.access)==null?void 0:a.map(r=>r.access))||[],k=`${h}campus`,x=await D.get(k);m(b!==-1?[...x.data.data,{campus:"All"}]:[...x.data.data.filter(r=>w.includes(r.id))]),j(!1)}catch{}};return p.exports.useEffect(()=>{(async()=>await N())()},[t]),e.exports.jsxDEV(W,{maxWidth:"sm",children:[e.exports.jsxDEV($,{title:"Campuses Name",columns:O,data:i,showLoader:C,options:V},void 0,!1,{fileName:s,lineNumber:118,columnNumber:7},void 0),e.exports.jsxDEV(A,{fullWidth:!0,open:g,onClose:()=>n(!1),children:e.exports.jsxDEV("section",{style:{padding:"0rem 1rem 1rem 1rem"},children:e.exports.jsxDEV(I,{children:[e.exports.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.exports.jsxDEV("p",{style:{fontSize:"24px"},children:"New Campus Details"},void 0,!1,{fileName:s,lineNumber:139,columnNumber:15},void 0),e.exports.jsxDEV(U,{style:{cursor:"pointer"},onClick:()=>n(!1)},void 0,!1,{fileName:s,lineNumber:140,columnNumber:15},void 0)]},void 0,!0,{fileName:s,lineNumber:132,columnNumber:13},void 0),e.exports.jsxDEV(v,{fullWidth:!0,autoFocus:!0,label:"Campus Name",placeholder:"Enter Campus",variant:"outlined",sx:{mt:"0.4rem"},onChange:a=>{u({...l,campus:a.target.value})}},void 0,!1,{fileName:s,lineNumber:145,columnNumber:13},void 0),e.exports.jsxDEV(v,{style:{marginTop:"2rem"},fullWidth:!0,autoFocus:!0,label:"Address",placeholder:"Write address",variant:"outlined",sx:{mt:"0.4rem"},onChange:a=>{u({...l,address:a.target.value})}},void 0,!1,{fileName:s,lineNumber:156,columnNumber:13},void 0),e.exports.jsxDEV(F,{variant:"contained",color:"primary",style:{width:"100%",padding:"0.7rem",marginTop:"2rem"},onClick:E,children:"Add New Campus"},void 0,!1,{fileName:s,lineNumber:169,columnNumber:13},void 0)]},void 0,!0,{fileName:s,lineNumber:131,columnNumber:11},void 0)},void 0,!1,{fileName:s,lineNumber:130,columnNumber:9},void 0)},void 0,!1,{fileName:s,lineNumber:125,columnNumber:7},void 0)]},void 0,!0,{fileName:s,lineNumber:117,columnNumber:5},void 0)};export{Y as default};
